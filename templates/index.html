{% extends '_layout.html' %}
{% block body %}
    <link rel="stylesheet" href="/static/styles/index.css">
    <!-- feed -->
    <div class="nav">
        <h1>Location Information</h1>
    </div>
    <div class="feed">
        <h1>This is your feed</h1>
        {% if not posts %}
            <p>There are no posts</p>
        {% else %}
        <ul>
            {% for index in posts %}
            <li>
                <h1>{{ posts[index].title }}</h1>
                <p>{{ posts[index].content }}</p>
                <!-- <p>{{ posts[index].file }}</p> -->
                <form action="/like_post" method="post">
                    <input type="hidden" name="post_id" value="{{ index }}">
                    <button type="submit" action="/like_post" method="post">{{ posts[index].likes }} Likes</button>
                </form>
                <form action="/dislike_post" method="post">
                    <input type="hidden" name="post_id" value="{{ index }}">
                    <button type="submit" action="/dislike_post" method="post">{{ posts[index].dislikes }} Dislikes</button>
                </form>
                <form action="/edit" method="post">
                    <input type="hidden" name="post_id" value="{{ index }}">
                    <button type="submit" action="/edit_post" method="get">Edit Post</button>
                </form>
            </li>
            {% endfor %}
        </ul>
        {% endif %}
    </div>
    <!-- button to make post -->
    {% if logged_in %}
    <form action="/create" method="get">
        <div class="get_create">
            <button type="submit">Make Post</button>
        </div>
    </form>
    {% else %}
    <form action="/login" method="get">
        <div class="get_create">
            <button type="submit">Make Post</button>
        </div>
    </form>
    {% endif %}
{% endblock %}